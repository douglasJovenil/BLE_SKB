<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 SDK v15.3.0: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet_offline.css" rel="stylesheet" type="text/css"/>
<link href="nordic.css" rel="stylesheet" type="text/css" />
<link rel="Shortcut icon" href="./favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%" class="blank">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Nordic Semiconductor" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 SDK
   &#160;<span id="projectnumber">v15.3.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table cellspacing="0" cellpadding="0" class="blank">
<tr>
<td class="doclinkintro">Choose documentation:</td>
<td class="doclinks" id="nrf5"><a href="../nrf5/index.html">nRF5 SDK</a></td>
<td class="doclinks" id="s112"><a href="../s112/index.html">S112 SoftDevice API</a></td>
<td class="doclinks" id="s132"><a href="../s132/index.html">S132 SoftDevice API</a></td>
<td class="doclinks" id="s140"><a href="../s140/index.html">S140 SoftDevice API</a></td>
<td class="doclinks" id="s212"><a href="../s212/index.html">S212 SoftDevice API</a></td>
<td class="doclinks" id="s312"><a href="../s312/index.html">S312 SoftDevice API</a></td>
<td class="doclinks" id="s332"><a href="../s332/index.html">S332 SoftDevice API</a></td>
<td class="doclinks" id="s340"><a href="../s340/index.html">S340 SoftDevice API</a></td>
</tr>
</table>
<script>
var url=window.location.href.split("/").reverse()[1];
var validLinks= ["nrf5","s112","s132","s140","s212","s312","s332","s340"];
var index;
for (index = 0; index < validLinks.length; ++index) {
   if ( url.indexOf(validLinks[index]) !== -1 ) {
      document.getElementById(validLinks[index]).setAttribute('class', 'doclinks docselected');
   };
};
</script>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The nRF5 SDK documentation includes descriptions and other reference material to help you understand the various components of the SDK. Examples are provided for development purposes only and should always be tested with your design.</p>
<p>See <a class="el" href="nrf51_getting_started.html">Getting Started</a> for instructions on how to run the provided examples.</p>
<p>This version of the SDK supports the following SoftDevices:</p>
<ul>
<li>S112 SoftDevice v6.1.1 (<a href="../s112/index.html">API documentation</a>)</li>
<li>S132 SoftDevice v6.1.1 (<a href="../s132/index.html">API documentation</a>)</li>
<li>S140 SoftDevice v6.1.1 (<a href="../s140/index.html">API documentation</a>)</li>
<li>S212 SoftDevice v6.1.1 (<a href="../s212/index.html">API documentation</a>)</li>
<li>S312 SoftDevice v6.1.1 (<a href="../s312/index.html">API documentation</a>)</li>
<li>S332 SoftDevice v6.1.1 (<a href="../s332/index.html">API documentation</a>)</li>
<li>S340 SoftDevice v6.1.1 (<a href="../s340/index.html">API documentation</a>)</li>
</ul>
<p>This SDK supports developing for nRF52810 on the PCA10040 board. See <a class="el" href="nrf52810_user_guide.html">Developing for nRF52810</a> for details.</p>
<p>This SDK supports developing for nRF52811 on the PCA10056 board. See <a class="el" href="nrf52811_user_guide.html">Developing for nRF52811</a> for details.</p>
<p>To download a copy of the SDK documentation for offline use, go to <a href="https://developer.nordicsemi.com" target="_blank">developer.nordicsemi.com</a>.</p>
<p>SDK Release Notes: </p>
<pre class="fragment">nRF5 SDK v15.3.0
------------------------
Release Date: Week 7, 2019

Highlights:

- Added support for a new chip - nRF52811.
- Added support for two new ANT SoftDevices: S312 targeting nRF52810 and nRF52832, and S340 targeting nRF52840.
- Added back support for the ANT SoftDevice S332 v6.1.1, as well as updated the latest SoftDevices S112, S132, S140 and S212 v6.1.1.
- Updated the SDFU solution with ANT transport layer.
- Updated DTM to support nRF52811, and updated the existing code to correctly handle Anomaly 172.



The following toolchains/devices have been used for testing and verification:

 - ARM: MDK-ARM version 5.25
 - GCC: GCC ARM Embedded 7.2018q2.update
 - IAR: IAR Workbench 7.80.4
 - SES: SES 4.12
 
Note: The selected GCC version has shown instabilities when using the Link Time Optimization feature, and using the feature is not recommended.

*****
Note for IAR 8 users:
(Libraries for IAR 8 require wchar_t to be of size 32 bits while IAR 7 requires 16 bits).
 
To run a project using IAR 8, follow these intructions:
 - Open the IAR project in IAR 8. The IAR workbench will automatically generate an IAR 8 compatible project file.
 - If the project contains one of the precompiled libraries listed below, replace it with the IAR 8 compatible alternative
   (there are no projects targeting nRF51 in this SDK).
 - Save the project.
 - When building the project, you might get the warning: "The header file 'cmsis_iar.h' is obsolete and should not be used. [...]".
    - The problem is described in DevZone post: https://devzone.nordicsemi.com/f/nordic-q-a/31123/iar-ewarm-8-22-1-complains-about-cmsis_iar-h
      The solution is to remove all occurrences of #include &lt;cmsis_iar.h&gt;.
    
The affected libraries are:
 - micro-ecc crypto:
    - IAR7: Includes library located in the folder named “…_iar\…”.
    - IAR8: Switch to using the library from the folder named “…_armgcc\…”.
 - nrf_cc310, nrf_cc310_bl, and nrf_oberon:
    - IAR7: Link to a library where “short_wchar” is part of the folder name.
    - IAR8: Link to a library without “short_wchar” in part of the folder name.
 - Gazell, NFC Tag, and 802.15.4:
    - IAR7: Includes the library where the file name ends with “_iar”.
    - IAR8: Switch to using the library with similar file name that ends with “_gcc”.
*****

Supported SoftDevices:
 - S112 v6.1.x
 - S132 v6.1.x
 - S140 v6.1.x
 - S212 v6.1.x
 - S312 v6.1.x
 - S332 v6.1.x
 - S340 v6.1.x
    
Supported boards:
 - PCA10040
 - PCA10040E (nRF52810 emulation on PCA10040)
 - PCA10056
 - PCA10056E (nRF52811 emulation on PCA10056)
 - PCA10059 (support in selected examples)
 - D52DK1 from Garmin Canada (only for ANT examples)

For other devices and boards, see the SDK documentation, section "Using
the SDK with other boards".
    

*** New features
*****************

** ANT **

- Added the new ANT Secure DFU Bootloader example.
  The example demonstrates how to use the new ANT transport with Secure DFU components
  (with support only for SES and GCC toolchains).
- Removed legacy ANT bootloader solution.


** Drivers and libraries **

- nrf_cli can now prompt and autocomplete both sorted and unsorted subcommands.
- nrf_libuarte and nrf_libuarte_async now support multiple instances.


** BLE**

- nrf_ble_lesc (part of the Peer Manager) now supports the LESC OOB pairing mode.
  The ble_nfc_pairing_reference_c example demonstrates how to pass the OOB data to the module.


** DFU **

- Added the option to perform signature validation of the application on each boot.
  This functionality requires nrfutil version 5.0.0 or higher.
- The DFU procedure can now mandate strictly increasing application versions.
- Added the option to send applications that will not be activated, but will remain in slot 1 ("external applications").
  This functionality requires nrfutil version 5.0.0 or higher.
- Added masking of GPREGRET and GPREGRET2 registers, enabling the upper 3 bytes of each register to be used by the application independently of the bootloader.

** Crypto **

- Added nrf_crypto backend support for Infineon OPTIGA™ Trust X devices (selected features).
- Added new example to showcase Infineon OPTIGA Trust X functionality: examples/crypto/ifx_optiga_custom_example.


*** Changes
************

** DFU **

- Turned off Link Time Optimization in all DFU projects due to instabilities in the supported GCC compiler.

** Drivers and libraries **

- nrf_cli: CLI will now automatically add the `\r` character before each printed `\n` character.
  This feature can be switched off in sdk_config using flag `NRF_FPRINTF_FLAG_AUTOMATIC_CR_ON_LF`.
- USB: A complete list of changes is available under this link: https://github.com/NordicSemiconductor/nrfx/blob/a0dcb1350f6798f12479921a0a376d00e2316fd4/CHANGELOG.md

** NFC **

- The NFC libraries (nfc_t2t_lib and nfc_t4t_lib) now use the NFCT driver instead of the NFC HAL modules (hal_nfc_t2t and hal_nfc_t4t). 
  The NFCT driver is a part of nrfx repository.
- Replaced hal_nfc_t2t and hal_nfc_t4t components with the nrfx_nfct driver.
- Added the NFC platform module (nfc_platform) to abstract runtime environment specific implementation from the driver.
  HFCLK activation, required for NFC to operate correctly, is managed in this module.
- Removed the nfc_fixes.h file with NFC workaround description. The content of this file was moved to nrfx_nfct.h.

** Crypto **

- nrf_oberon, nrf_cc310, and nrf_cc310_bl libraries have changed naming and placement compared to the previous release.
  They are now available in the following folder scheme:
  - GCC and IAR 8.x: lib/&lt;arch&gt;/hard-float/&lt;lib_name&gt;.a
  - IAR 7.80.x: lib/&lt;arch&gt;/hard-float/short-wchar/&lt;lib_name&gt;.a
  - Keil: lib/&lt;arch&gt;/hard-float/short-wchar/&lt;lib_name&gt;.lib
  Due to this naming convention change, updated nrf_cc310 and nrf_cc310_bl library version to 0.9.12.
  Due to this naming convention change, updated nrf_oberon library version to 2.0.7.
- Changed ECC Public Key Validation from "Full" to "Partial" in nrf_crypto backend for ARM CC310.
  This improves LESC pairing and ECDSA verify timing.


*** Bug fixes
****************

** Drivers and libraries **

- nrf_cli: The module can now be used with terminals with no standard background color (for example, white).
- USB: Fixed a bug where USB IRQ was not cleared after unplugging the USB cable.
- Fixed an issue where NRF_LOG_INIT(timestamp, frequency) failed to compile if the logger was disabled.
- Fixed a compilation failure issue when using NRF_LOG_HEXDUMP_WARNING.
- Fixed a scenario where the emulated project delay function (nrfx_coredep_delay_us) did not work correctly.

** BLE **

- Peer Manager:
   - Slave Security Requests received during a pairing or encryption procedure will now be ignored (to align with the BLE specification).
   - Fixed a bug where Peer Manager would misinterpret a peer central's ability to resolve resolvable addresses in directed advertisements.
   - Fixed a bug where Peer Manager would sometimes give a fatal error if the link disconnected during a pairing procedure.
   - Fixed a bug where flash could be full but no Peer Manager event was sent.
   - Fixed a bug where Peer Manager would silently drop Service Changed indications if an ATT MTU exchange was happening at the same time.
- Eddystone:
   - Fixed a bug where EID was not correctly updated.
   - Fixed bug where factory reset would not work correctly when followed by an immediate disconnect.

** DFU **

- Various security improvements and fixes.
- Fixed various bugs in background DFU.
- Fixed bugs that appeared when combining transports (for example, UART + BLE).

** DTM **

- Fixed a bug which made the workaround for nRF52840 Anomaly 172 non-functional.

** Serialization **

- Fixed an issue with HCI transport sending redundant bytes on certain packet payloads containing escape codes.
- Fixes in serialization codecs.


*** Known Issues
****************

** General **

- Programming and debugging the nRF52811 chip may require an update of the J-Link firmware in order to recognize the new chip.
- The workaround for Anomaly 198 for nRF52840 SPIM3 peripheral that has been implemented in nrfx_spim cannot be used with a SoftDevice.
  Flag NRFX_SPIM3_NRF52840_ANOMALY_198_WORKAROUND_ENABLED must be set to zero.
  The workaround based on a dedicated RAM block for SPIM3 must be used instead.

** BLE **

- GATTC: the ble_gattc_service_t::uuid field is incorrectly populated in the BLE_GATTC_EVT_PRIM_SRVC_DISC_RSP event
  if the sd_ble_gattc_primary_services_discover() or sd_ble_gattc_read() are called when a Primary Service Discovery by Service UUID is already ongoing.
  When the application has called sd_ble_gattc_primary_services_discover(), it should wait for the BLE_GATTC_EVT_PRIM_SRVC_DISC_RSP event before calling sd_ble_gattc_primary_services_discover() or sd_ble_gattc_read().
- The TFTP Background DFU example has known instabilities.

** Drivers and libraries **

- The SAADC driver does not handle detection limits 'high' and 'low' correctly if SAADC resolution is greater than 10 bits.
- USBD: 
  - The library may handle Remote Wakeup incorrectly.
  - Issuing a SET_ADDRESS(0) request does not cause the device to change its state to default.
  - The device does not STALL when a DATA transaction is received outside of SETUP. It ACKs instead.

** IoT **

- For Linux kernels &gt;= 4.12, The BLE_6LOWPAN_LEGACY_MODE configuration parameter must be set to 0 (the default is 1).
  The default value must be kept for Linux kernels &lt; 4.12.
  With this configuration set up incorrectly, the examples do not work and are difficult to debug.



</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="topicfooter">
<a href="mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback" id="maillink">Documentation feedback</a> | <a href="https://devzone.nordicsemi.com/questions/" target="_blank">Developer Zone</a> | <a href="http://response.nordicsemi.com/subscribe-to-our-newsletters" target="_blank">Subscribe</a> | Updated <span id="date"/>
<script>
var date = new Date("Fri Feb 15 2019" + " UTC");
document.getElementById("date").innerHTML = date.toJSON().slice(0, 10);
var url=window.location.href.split("?")[0];
var filename=url.substring(url.lastIndexOf('/')+1);
document.getElementById("maillink").href = "mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback"+decodeURIComponent("%26")+"body=File%20name%3A%20"+encodeURIComponent(filename);
</script>
</div>
</body>
</html>
